{"version":3,"file":"a741efdd.js","sources":["../../../src/components/account/AccountOrderHistory.client.jsx","../../../src/components/cards/OrderCard.client.jsx"],"sourcesContent":["import {Button, Text, OrderCard} from '~/components';\n\nexport function AccountOrderHistory({orders}) {\n  return (\n    <div className=\"mt-6\">\n      <div className=\"grid w-full gap-4 p-4 py-6 md:gap-8 md:p-8 lg:p-12\">\n        <h2 className=\"font-bold text-lead\">Order History</h2>\n        {orders?.length ? <Orders orders={orders} /> : <EmptyOrders />}\n      </div>\n    </div>\n  );\n}\n\nfunction EmptyOrders() {\n  return (\n    <div>\n      <Text className=\"mb-1\" size=\"fine\" width=\"narrow\" as=\"p\">\n        You haven&apos;t placed any orders yet.\n      </Text>\n      <div className=\"w-48\">\n        <Button className=\"text-sm mt-2 w-full\" variant=\"secondary\" to={'/'}>\n          Start Shopping\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction Orders({orders}) {\n  return (\n    <ul className=\"grid-flow-row grid gap-2 gap-y-6 md:gap-4 lg:gap-6 grid-cols-1 false  sm:grid-cols-3\">\n      {orders.map((order) => (\n        <OrderCard order={order} key={order.id} />\n      ))}\n    </ul>\n  );\n}\n","import {Image, Link, flattenConnection} from '@shopify/hydrogen';\n\nimport {Heading, Text} from '~/components';\nimport {statusMessage} from '~/lib/utils';\n\nexport function OrderCard({order}) {\n  if (!order?.id) return null;\n  const legacyOrderId = order.id.split('/').pop().split('?')[0];\n  const lineItems = flattenConnection(order?.lineItems);\n\n  return (\n    <li className=\"grid text-center border rounded\">\n      <Link\n        className=\"grid items-center gap-4 p-4 md:gap-6 md:p-6 md:grid-cols-2\"\n        to={`/account/orders/${legacyOrderId}`}\n      >\n        {lineItems[0].variant?.image && (\n          <div className=\"card-image aspect-square bg-primary/5\">\n            <Image\n              width={168}\n              height={168}\n              widths={[168]}\n              className=\"w-full fadeIn cover\"\n              alt={lineItems[0].variant?.image?.altText ?? 'Order image'}\n              // @ts-expect-error Stock line item variant image type has `url` as optional\n              data={lineItems[0].variant?.image}\n              loaderOptions={{scale: 2, crop: 'center'}}\n            />\n          </div>\n        )}\n        <div\n          className={`flex-col justify-center text-left ${\n            !lineItems[0].variant?.image && 'md:col-span-2'\n          }`}\n        >\n          <Heading as=\"h3\" format size=\"copy\">\n            {lineItems.length > 1\n              ? `${lineItems[0].title} +${lineItems.length - 1} more`\n              : lineItems[0].title}\n          </Heading>\n          <dl className=\"grid grid-gap-1\">\n            <dt className=\"sr-only\">Order ID</dt>\n            <dd>\n              <Text size=\"fine\" color=\"subtle\">\n                Order No. {order.orderNumber}\n              </Text>\n            </dd>\n            <dt className=\"sr-only\">Order Date</dt>\n            <dd>\n              <Text size=\"fine\" color=\"subtle\">\n                {new Date(order.processedAt).toDateString()}\n              </Text>\n            </dd>\n            <dt className=\"sr-only\">Fulfillment Status</dt>\n            <dd className=\"mt-2\">\n              <span\n                className={`px-3 py-1 text-xs font-medium rounded-full ${\n                  order.fulfillmentStatus === 'FULFILLED'\n                    ? 'bg-green-100 text-green-800'\n                    : 'bg-primary/5 text-primary/50'\n                }`}\n              >\n                <Text size=\"fine\">\n                  {statusMessage(order.fulfillmentStatus)}\n                </Text>\n              </span>\n            </dd>\n          </dl>\n        </div>\n      </Link>\n      <div className=\"self-end border-t\">\n        <Link\n          className=\"block w-full p-2 text-center\"\n          to={`/account/orders/${legacyOrderId}`}\n        >\n          <Text color=\"subtle\" className=\"ml-3\">\n            View Details\n          </Text>\n        </Link>\n      </div>\n    </li>\n  );\n}\n"],"names":["orders","_jsx","length","map","order","id","legacyOrderId","split","pop","lineItems","flattenConnection","_jsxs","variant","image","altText","scale","crop","title","orderNumber","Date","processedAt","toDateString","fulfillmentStatus","statusMessage"],"mappings":"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"}