import{r,R as I}from"./index.fcab2dec.js";import{H as v,c as M,y as C,T as K,o as S,C as L,u as g,p as E,_ as T,x as O,e as U,f as N,k as y,r as A}from"./2d42f978.js";import{s as F}from"./8edfef86.js";var j=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(j||{}),Q=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(Q||{});let V={[0]:e=>({...e,disclosureState:g(e.disclosureState,{[0]:1,[1]:0})}),[1]:e=>e.disclosureState===1?e:{...e,disclosureState:1},[4](e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},[5](e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},[2](e,n){return e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId}},[3](e,n){return e.panelId===n.panelId?e:{...e,panelId:n.panelId}}},R=r.exports.createContext(null);R.displayName="DisclosureContext";function h(e){let n=r.exports.useContext(R);if(n===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,h),t}return n}let $=r.exports.createContext(null);$.displayName="DisclosureAPIContext";function H(e){let n=r.exports.useContext($);if(n===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,H),t}return n}let w=r.exports.createContext(null);w.displayName="DisclosurePanelContext";function X(){return r.exports.useContext(w)}function Y(e,n){return g(n.type,V,e,n)}let Z=r.exports.Fragment,_=v(function(e,n){let{defaultOpen:t=!1,...o}=e,l=`headlessui-disclosure-button-${M()}`,a=`headlessui-disclosure-panel-${M()}`,u=r.exports.useRef(null),m=C(n,K(f=>{u.current=f},e.as===void 0||e.as===I.Fragment)),P=r.exports.useRef(null),k=r.exports.useRef(null),p=r.exports.useReducer(Y,{disclosureState:t?0:1,linkedPanel:!1,buttonRef:k,panelRef:P,buttonId:l,panelId:a}),[{disclosureState:c},i]=p;r.exports.useEffect(()=>i({type:2,buttonId:l}),[l,i]),r.exports.useEffect(()=>i({type:3,panelId:a}),[a,i]);let x=S(f=>{i({type:1});let b=N(u);if(!b)return;let B=(()=>f?f instanceof HTMLElement?f:f.current instanceof HTMLElement?f.current:b.getElementById(l):b.getElementById(l))();B==null||B.focus()}),D=r.exports.useMemo(()=>({close:x}),[x]),s=r.exports.useMemo(()=>({open:c===0,close:x}),[c,x]),d={ref:m};return I.createElement(R.Provider,{value:p},I.createElement($.Provider,{value:D},I.createElement(L,{value:g(c,{[0]:E.Open,[1]:E.Closed})},T({ourProps:d,theirProps:o,slot:s,defaultTag:Z,name:"Disclosure"}))))}),q="button",z=v(function(e,n){let[t,o]=h("Disclosure.Button"),l=X(),a=l===null?!1:l===t.panelId,u=r.exports.useRef(null),m=C(u,n,a?null:t.buttonRef),P=S(s=>{var d;if(a){if(t.disclosureState===1)return;switch(s.key){case y.Space:case y.Enter:s.preventDefault(),s.stopPropagation(),o({type:0}),(d=t.buttonRef.current)==null||d.focus();break}}else switch(s.key){case y.Space:case y.Enter:s.preventDefault(),s.stopPropagation(),o({type:0});break}}),k=S(s=>{switch(s.key){case y.Space:s.preventDefault();break}}),p=S(s=>{var d;A(s.currentTarget)||e.disabled||(a?(o({type:0}),(d=t.buttonRef.current)==null||d.focus()):o({type:0}))}),c=r.exports.useMemo(()=>({open:t.disclosureState===0}),[t]),i=F(e,u),x=e,D=a?{ref:m,type:i,onKeyDown:P,onClick:p}:{ref:m,id:t.buttonId,type:i,"aria-expanded":e.disabled?void 0:t.disclosureState===0,"aria-controls":t.linkedPanel?t.panelId:void 0,onKeyDown:P,onKeyUp:k,onClick:p};return T({ourProps:D,theirProps:x,slot:c,defaultTag:q,name:"Disclosure.Button"})}),G="div",J=O.RenderStrategy|O.Static,W=v(function(e,n){let[t,o]=h("Disclosure.Panel"),{close:l}=H("Disclosure.Panel"),a=C(n,t.panelRef,()=>{t.linkedPanel||o({type:4})}),u=U(),m=(()=>u!==null?u===E.Open:t.disclosureState===0)();r.exports.useEffect(()=>()=>o({type:5}),[o]),r.exports.useEffect(()=>{var c;t.disclosureState===1&&((c=e.unmount)!=null?c:!0)&&o({type:5})},[t.disclosureState,e.unmount,o]);let P=r.exports.useMemo(()=>({open:t.disclosureState===0,close:l}),[t,l]),k=e,p={ref:a,id:t.panelId};return I.createElement(w.Provider,{value:t.panelId},T({ourProps:p,theirProps:k,slot:P,defaultTag:G,features:J,visible:m,name:"Disclosure.Panel"}))}),re=Object.assign(_,{Button:z,Panel:W});export{re as k};
//# sourceMappingURL=f7e73c46.js.map
