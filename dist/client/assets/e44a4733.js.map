{"version":3,"file":"e44a4733.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/utilities/video_parameters.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/Video/Video.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/ExternalVideo/ExternalVideo.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/MediaFile/MediaFile.js","../../../src/components/product/ProductGallery.client.jsx"],"sourcesContent":["import { useMemo } from 'react';\nexport function addParametersToEmbeddedVideoUrl(url, parameters) {\n    if (parameters == null) {\n        return url;\n    }\n    const params = Object.keys(parameters).reduce((accumulator, param) => {\n        const value = parameters[param];\n        if (value == null) {\n            return accumulator;\n        }\n        return accumulator + `&${param}=${value}`;\n    }, '');\n    return `${url}?${params}`;\n}\nexport function useEmbeddedVideoUrl(url, parameters) {\n    return useMemo(() => {\n        if (!parameters) {\n            return url;\n        }\n        return addParametersToEmbeddedVideoUrl(url, parameters);\n    }, [url, parameters]);\n}\n","import React from 'react';\nimport { shopifyImageLoader } from '../../utilities';\n/**\n * The `Video` component renders a `video` for the Storefront API's [Video object](https://shopify.dev/api/storefront/reference/products/video).\n */\nexport function Video(props) {\n    const { data, previewImageOptions, id = data.id, playsInline = true, controls = true, ...passthroughProps } = props;\n    const posterUrl = shopifyImageLoader({\n        src: data.previewImage?.url ?? '',\n        ...previewImageOptions,\n    });\n    if (!data.sources) {\n        throw new Error(`<Video/> requires a 'data.sources' array`);\n    }\n    return (\n    // eslint-disable-next-line jsx-a11y/media-has-caption\n    React.createElement(\"video\", { ...passthroughProps, id: id, playsInline: playsInline, controls: controls, poster: posterUrl }, data.sources.map((source) => {\n        if (!(source?.url && source?.mimeType)) {\n            throw new Error(`<Video/> needs 'source.url' and 'source.mimeType'`);\n        }\n        return (React.createElement(\"source\", { key: source.url, src: source.url, type: source.mimeType }));\n    })));\n}\n","import React from 'react';\nimport { useEmbeddedVideoUrl } from '../../utilities';\n/**\n * The `ExternalVideo` component renders an embedded video for the Storefront\n * API's [ExternalVideo object](https://shopify.dev/api/storefront/reference/products/externalvideo).\n */\nexport function ExternalVideo(props) {\n    const { data, options, id = data.id, frameBorder = '0', allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture', allowFullScreen = true, ...passthroughProps } = props;\n    if (!data.embedUrl) {\n        throw new Error(`<ExternalVideo/> requires the 'embedUrl' property`);\n    }\n    const url = useEmbeddedVideoUrl(data.embedUrl, options);\n    return (React.createElement(\"iframe\", { ...passthroughProps, id: id ?? data.embedUrl, frameBorder: frameBorder, allow: allow, allowFullScreen: allowFullScreen, src: url }));\n}\n","import React from 'react';\nimport { Image } from '../Image';\nimport { Video } from '../Video';\nimport { ExternalVideo } from '../ExternalVideo';\nimport { ModelViewer } from '../ModelViewer';\n/**\n * The `MediaFile` component renders the media for the Storefront API's\n * [Media object](https://shopify.dev/api/storefront/reference/products/media). It renders an `Image`, a\n * `Video`, an `ExternalVideo`, or a `ModelViewer` depending on the `mediaContentType` of the\n * `media` provided as a prop.\n */\nexport function MediaFile({ data, options, ...passthroughProps }) {\n    switch (data.mediaContentType) {\n        case 'IMAGE': {\n            const dataImage = data\n                .image;\n            if (!dataImage || !dataImage.url) {\n                console.warn(`No \"image\" property was found on the \"data\" prop for <MediaFile/>, for the \"type='image'\"`);\n                return null;\n            }\n            return (React.createElement(Image, { ...passthroughProps, data: dataImage, loaderOptions: options }));\n        }\n        case 'VIDEO':\n            return (React.createElement(Video, { ...passthroughProps, data: data, previewImageOptions: options }));\n        case 'EXTERNAL_VIDEO':\n            return (React.createElement(ExternalVideo, { ...passthroughProps, data: data, options: options }));\n        case 'MODEL_3D':\n            return (React.createElement(ModelViewer, { ...passthroughProps, data: data }));\n        default:\n            return null;\n    }\n}\n","import {MediaFile} from '@shopify/hydrogen/client';\nimport {ATTR_LOADING_EAGER} from '~/lib/const';\n\n/**\n * A client component that defines a media gallery for hosting images, 3D models, and videos of products\n */\nexport function ProductGallery({media, className}) {\n  if (!media.length) {\n    return null;\n  }\n\n  return (\n    <div\n      className={`swimlane md:grid-flow-row hiddenScroll md:p-0 md:overflow-x-auto md:grid-cols-2 ${className}`}\n    >\n      {media.map((med, i) => {\n        let mediaProps = {};\n        const isFirst = i === 0;\n        const isFourth = i === 3;\n        const isFullWidth = i % 3 === 0;\n\n        const data = {\n          ...med,\n          image: {\n            // @ts-ignore\n            ...med.image,\n            altText: med.alt || 'Product image',\n          },\n        };\n\n        switch (med.mediaContentType) {\n          case 'IMAGE':\n            mediaProps = {\n              width: 800,\n              widths: [400, 800, 1200, 1600, 2000, 2400],\n            };\n            break;\n          case 'VIDEO':\n            mediaProps = {\n              width: '100%',\n              autoPlay: true,\n              controls: false,\n              muted: true,\n              loop: true,\n              preload: 'auto',\n            };\n            break;\n          case 'EXTERNAL_VIDEO':\n            mediaProps = {width: '100%'};\n            break;\n          case 'MODEL_3D':\n            mediaProps = {\n              width: '100%',\n              interactionPromptThreshold: '0',\n              ar: true,\n              loading: ATTR_LOADING_EAGER,\n              disableZoom: true,\n            };\n            break;\n        }\n\n        if (i === 0 && med.mediaContentType === 'IMAGE') {\n          mediaProps.loading = ATTR_LOADING_EAGER;\n        }\n\n        const style = [\n          isFullWidth ? 'md:col-span-2' : 'md:col-span-1',\n          isFirst || isFourth ? '' : 'md:aspect-[4/5]',\n          'aspect-square snap-center card-image bg-white dark:bg-contrast/10 w-mobileGallery md:w-full',\n        ].join(' ');\n\n        return (\n          <div\n            className={style}\n            // @ts-ignore\n            key={med.id || med.image.id}\n          >\n            <MediaFile\n              tabIndex=\"0\"\n              className={`w-full h-full aspect-square fadeIn object-cover`}\n              data={data}\n              sizes={\n                isFullWidth\n                  ? '(min-width: 64em) 60vw, (min-width: 48em) 50vw, 90vw'\n                  : '(min-width: 64em) 30vw, (min-width: 48em) 25vw, 90vw'\n              }\n              // @ts-ignore\n              options={{\n                crop: 'center',\n              }}\n              {...mediaProps}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":["useMemo","media","className","length","map","med","i","mediaProps","isFirst","isFourth","isFullWidth","data","image","altText","alt","mediaContentType","width","widths","autoPlay","controls","muted","loop","preload","interactionPromptThreshold","ar","loading","ATTR_LOADING_EAGER","disableZoom","style","join","crop","id"],"mappings":"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"}