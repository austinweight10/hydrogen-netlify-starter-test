import{R as g,r as o,j as r,a as i,F as m}from"./index.fcab2dec.js";import{Link as k}from"./dabb404c.js";import"./a3fdab35.js";import"./42bd6d0f.js";import"./c96332aa.js";import{u as d,S as R}from"./b61e7bbe.js";import"./979bc475.js";import{M as b}from"./4ff67a61.js";import"./f36cacbb.js";import{C as w}from"./4713b2c7.js";import"./adcb9f3b.js";import"./16a2d653.js";import{B as N}from"./086354ff.js";import"./199713ed.js";import{T as u}from"./25854493.js";import{f as A}from"./c5fd8ade.js";import{l as E,n as C,q}from"./2d42f978.js";import{ProductCard as j}from"./5d84dd3e.js";/* empty css        */import{I as P}from"./d6978aec.js";import{BaseButton as B}from"./e16e67aa.js";function O({children:e,line:t}){return g.createElement(w.Provider,{value:t},e)}function f(){const e=o.exports.useContext(w);if(e==null)throw new Error("Expected a cart line context but none was found");return e}function $(e){const t=f(),{priceType:n="regular",...a}=e,s=n==="regular"?t.cost.totalAmount:t.cost.compareAtAmountPerQuantity;return s==null?null:g.createElement(b,{...a,data:s})}function I(e){const t=f(),{as:n,...a}=e,s=n||"span";return g.createElement(s,{...a},t.quantity)}function v(e){const{status:t,linesRemove:n,linesUpdate:a}=d(),s=f(),{children:c,adjust:l,onClick:h,...p}=e,L=o.exports.useCallback(()=>{if(l==="remove"){n([s.id]);return}const y=l==="decrease"?s.quantity-1:s.quantity+1;if(y<=0){n([s.id]);return}a([{id:s.id,quantity:y}])},[l,s.id,s.quantity,n,a]);return r(B,{disabled:t!=="idle",onClick:h,defaultOnClick:L,...p,children:c})}function Q(e){const{lines:t}=d(),n=o.exports.useMemo(()=>t.map(a=>({id:a.merchandise.id,quantity:a.quantity})),[t]);return r(R,{variantIdsAndQuantities:n,...e})}function x({as:e="div",width:t,height:n,className:a,...s}){const c=E("rounded bg-primary/10",a);return r(e,{...s,width:t,height:n,className:c})}function F(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function T(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Ne=typeof window!="undefined",D=function(e){o.exports.useEffect(e,[])},M=D,U=function(e){var t=o.exports.useRef(e);t.current=e,M(function(){return function(){return t.current()}})},z=U,_=function(e){var t=o.exports.useRef(0),n=o.exports.useState(e),a=n[0],s=n[1],c=o.exports.useCallback(function(l){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){s(l)})},[]);return z(function(){cancelAnimationFrame(t.current)}),[a,c]},H=_,V=function(e){var t=H({x:0,y:0}),n=t[0],a=t[1];return o.exports.useEffect(function(){var s=function(){e.current&&a({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&F(e.current,"scroll",s,{capture:!1,passive:!0}),function(){e.current&&T(e.current,"scroll",s)}},[e]),n},S=V;function W({layout:e,onClose:t}){const{lines:n}=d(),a=o.exports.useRef(null),{y:s}=S(a);if(n.length===0)return r(K,{onClose:t});const c={drawer:"grid grid-cols-1 h-screen-no-nav grid-rows-[1fr_auto]",page:"pb-12 max-w-7xl mx-auto w-full flex flex-col md:flex-row md:items-start gap-4 md:gap-8 lg:gap-12"},l={drawer:"px-6 pb-6 sm-max:pt-2 overflow-auto transition md:px-12",page:"flex-grow md:translate-y-4"},h={drawer:"grid gap-6 p-6 border-t md:px-12",page:"sticky top-nav grid gap-6 p-4 md:px-6 md:translate-y-4 bg-primary/5 rounded w-full max-w-md"};return i("form",{className:c[e],children:[r("section",{ref:a,"aria-labelledby":"cart-contents",className:`${l[e]} ${s>0&&"border-t"}`,children:r("ul",{className:"grid gap-6 md:gap-10",children:n.map(p=>r(O,{line:p,children:r(Z,{})},p.id))})}),i("section",{"aria-labelledby":"summary-heading",className:h[e],children:[r("h2",{id:"summary-heading",className:"sr-only",children:"Order summary"}),r(J,{}),r(G,{})]})]})}function G(){const{checkoutUrl:e}=d();return r(m,{children:i("div",{className:"grid gap-4",children:[r(N,{to:e,width:"full",children:"Continue to Checkout"}),r(Q,{})]})})}function J(){var t;const{cost:e}=d();return r(m,{children:r("dl",{className:"grid",children:i("div",{className:"flex items-center justify-between font-medium",children:[r(u,{as:"dt",children:"Subtotal"}),r(u,{as:"dd",children:(t=e==null?void 0:e.subtotalAmount)!=null&&t.amount?r(b,{data:e==null?void 0:e.subtotalAmount}):"-"})]})})})}var Ce=Object.freeze(Object.defineProperty({__proto__:null,CartDetails:W},Symbol.toStringTag,{value:"Module"}));function K({onClose:e}){const t=o.exports.useRef(null),{y:n}=S(t);return i("div",{ref:t,className:`grid content-start gap-4 px-6 pb-8 transition overflow-y-scroll md:gap-12 md:px-12 h-screen-no-nav md:pb-12 ${n>0&&"border-t"}`,children:[i("section",{className:"grid gap-6",children:[r(u,{format:!0,children:"Looks like you haven\u2019t added anything yet, let\u2019s get you started!"}),r("div",{children:r(N,{onClick:e,children:"Continue shopping"})})]}),i("section",{className:"grid gap-8 pt-4",children:[r(C,{format:!0,size:"copy",children:"Shop Best Sellers"}),r("div",{className:"grid grid-cols-2 gap-x-6 gap-y-8",children:r(o.exports.Suspense,{fallback:r(Y,{}),children:r(X,{onClose:e})})})]})]})}function X({onClose:e}){const t=A("/api/bestSellers").json();return t.length===0?r(u,{format:!0,children:"No products found."}):r(m,{children:t.map(n=>r(j,{product:n,onClick:e},n.id))})}function Y(){return r(m,{children:[...new Array(4)].map((e,t)=>i("div",{className:"grid gap-2",children:[r(x,{className:"aspect-[3/4]"}),r(x,{className:"w-32 h-4"})]},t))})}function Z(){const{linesRemove:e}=d(),{id:t,quantity:n,merchandise:a}=f();return i("li",{className:"flex gap-4",children:[r("div",{className:"flex-shrink",children:r(P,{width:112,height:112,widths:[112],data:a.image,loaderOptions:{scale:2,crop:"center"},className:"object-cover object-center w-24 h-24 border rounded md:w-28 md:h-28"})}),i("div",{className:"flex justify-between flex-grow",children:[i("div",{className:"grid gap-2",children:[r(C,{as:"h3",size:"copy",children:r(k,{to:`/products/${a.product.handle}`,children:a.product.title})}),r("div",{className:"grid pb-2",children:((a==null?void 0:a.selectedOptions)||[]).map(s=>i(u,{color:"subtle",children:[s.name,": ",s.value]},s.name))}),i("div",{className:"flex items-center gap-2",children:[r("div",{className:"flex justify-start text-copy",children:r(ee,{lineId:t,quantity:n})}),i("button",{type:"button",onClick:()=>e([t]),className:"flex items-center justify-center w-10 h-10 border rounded",children:[r("span",{className:"sr-only",children:"Remove"}),r(q,{"aria-hidden":"true"})]})]})]}),r(u,{children:r($,{as:"span"})})]})]},t)}function ee({lineId:e,quantity:t}){return i(m,{children:[i("label",{htmlFor:`quantity-${e}`,className:"sr-only",children:["Quantity, ",t]}),i("div",{className:"flex items-center border rounded",children:[r(v,{adjust:"decrease","aria-label":"Decrease quantity",className:"w-10 h-10 transition text-primary/50 hover:text-primary disabled:cursor-wait",children:"\u2212"}),r(I,{as:"div",className:"px-2 text-center"}),r(v,{adjust:"increase","aria-label":"Increase quantity",className:"w-10 h-10 transition text-primary/50 hover:text-primary disabled:cursor-wait",children:"+"})]})]})}export{W as C,T as a,Ce as b,Ne as i,F as o,H as u};
//# sourceMappingURL=e6277090.js.map
