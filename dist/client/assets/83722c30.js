import{r as o,j as r,a as s}from"./index.fcab2dec.js";import"./dabb404c.js";import"./a3fdab35.js";import"./42bd6d0f.js";import"./c96332aa.js";import"./979bc475.js";import"./f36cacbb.js";import"./4713b2c7.js";import"./adcb9f3b.js";import"./16a2d653.js";import{u as v}from"./4dcec775.js";import"./b453c200.js";function M({id:i,activationToken:n}){const l=v(),[t,h]=o.exports.useState(null),[c,f]=o.exports.useState(""),[d,m]=o.exports.useState(null),[w,x]=o.exports.useState(""),[p,u]=o.exports.useState(null);function b(e){m(null),u(null);let a=!1;return e.password.validity.valid||(a=!0,m(e.password.validity.valueMissing?"Please enter a password":"Passwords must be at least 6 characters")),e.passwordConfirm.validity.valid||(a=!0,u(e.password.validity.valueMissing?"Please re-enter a password":"Passwords must be at least 6 characters")),c!==w&&(a=!0,u("The two passwords entered did not match.")),a}async function y(e){if(e.preventDefault(),b(e.currentTarget))return;const a=await g({id:i,activationToken:n,password:c});if(a.error){h(a.error);return}l("/account")}return r("div",{className:"flex justify-center",children:s("div",{className:"w-full max-w-md",children:[r("h1",{className:"text-4xl",children:"Activate Account."}),r("p",{className:"mt-4",children:"Create your password to activate your account."}),s("form",{noValidate:!0,className:"pt-6 pb-8 mt-4 mb-4",onSubmit:y,children:[t&&r("div",{className:"flex items-center justify-center mb-6 bg-primary/30",children:r("p",{className:"m-4 text-s text-contrast",children:t})}),s("div",{className:"mb-4",children:[r("input",{className:`mb-1 appearance-none border w-full py-2 px-3 text-primary placeholder:text-primary/30 leading-tight focus:shadow-outline ${d?" border-notice":"border-primary"}`,id:"password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Password","aria-label":"Password",value:c,minLength:8,required:!0,onChange:e=>{f(e.target.value)}}),s("p",{className:`text-red-500 text-xs ${d?"":"invisible"}`,children:[d," \xA0"]})]}),s("div",{className:"mb-4",children:[r("input",{className:`mb-1 appearance-none border w-full py-2 px-3 text-primary/90 placeholder:text-primary/50 leading-tight focus:shadow-outline ${p?" border-red-500":"border-gray-900"}`,id:"passwordConfirm",name:"passwordConfirm",type:"password",autoComplete:"current-password",placeholder:"Re-enter password","aria-label":"Re-enter password",value:w,required:!0,minLength:8,onChange:e=>{x(e.target.value)}}),s("p",{className:`text-red-500 text-xs ${p?"":"invisible"}`,children:[p," \xA0"]})]}),r("div",{className:"flex items-center justify-between",children:r("button",{className:"block w-full px-4 py-2 text-contrast uppercase bg-gray-900 focus:shadow-outline",type:"submit",children:"Save"})})]})]})})}async function g({id:i,activationToken:n,password:l}){try{const t=await fetch("/account/activate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:i,activationToken:n,password:l})});return t.ok?{}:t.json()}catch(t){return{error:t.toString()}}}export{M as AccountActivateForm};
//# sourceMappingURL=83722c30.js.map
